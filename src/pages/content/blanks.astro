---
import Layout from '../../layouts/Layout.astro';
import { pricing } from '../../data/blankPrices.js';

function formatKey(key: string) {
  return key
    .replace(/([A-Z])/g, ' $1')
    .replace(/^./, (str: string) => str.toUpperCase());
}

function formatCategory(category: string) {
  return category
    .replace(/([A-Z])/g, ' $1')
    .replace(/^./, (str: string) => str.toUpperCase());
}
---

<Layout title="Blanks">
  <div class="prose">
    <h1 class="text-5xl font-bold mb-4">Blanks</h1>
    <p class="text-xl mb-8">
      Blanks, stylised as <strong>B$</strong>, are a form of currency used to purchase temporary teams and permanent teams.
    </p>

    <h2 class="text-2xl font-semibold">How to Earn Blanks</h2>
    <p class="text-lg mb-4">
      You can earn Blanks in two primary ways:
    </p>
    <ul class="list-disc pl-5 mb-6">
      <li><strong>In-Game Rewards:</strong> Earn Blanks automatically every 30 minutes while playing.</li>
      <li>
        <strong>Daily Rewards:</strong> Build a streak by logging in each day. Your daily reward increases incrementally each day (1 on day 1, 2 on day 2, etc.) until it caps at 7 on day 7. As long as your streak remains active, you'll continue to receive 7 Blanks each day.
      </li>
    </ul>

    <section class="mt-12">
      <h2 class="text-xl font-semibold mb-6">Team Pricing</h2>
      
      {Object.entries(pricing).map(([category, teams]) => (
        <div class="overflow-x-auto mb-8">
          <h3 class="text-lg font-semibold mb-2">{formatCategory(category)}</h3>
          <table class="w-full table-auto border border-gray-700">
            <thead>
              <tr class="bg-gray-800 text-gray-100">
                <th class="px-3 py-1 border border-gray-700 text-sm">Sub-Team</th>
                <th class="px-3 py-1 border border-gray-700 text-sm">Temp Buy</th>
                <th class="px-3 py-1 border border-gray-700 text-sm">Perm Buy</th>
              </tr>
            </thead>
            <tbody class="text-gray-300 text-sm">
              {Object.entries(teams).map(([subTeam, values]) => (
                <tr>
                  <td class="px-3 py-1 border border-gray-700">{formatKey(subTeam)}</td>
                  <td class="px-3 py-1 border border-gray-700">{values.tempBuy}</td>
                  <td class="px-3 py-1 border border-gray-700">{values.permBuy}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      ))}
    </section>
  </div>
</Layout>
